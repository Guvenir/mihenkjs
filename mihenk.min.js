function barchart(){function e(t,e,a){d3.select(this).attr("stroke",g(e)),v.transition().duration(500).style("opacity",1),v.select(".labell").html(grafik.ylab+" :"+t.y),v.select(".percent").html(grafik.xlab+" :"+format(t.x));var r=d3.mouse(d3.select("div.barv.tooltip").node().parentElement);v.transition().duration(500).style("opacity",.9).style("display","block").style("left",r[0]-30+"px").style("top",r[1]-80+"px")}function a(t,e,a){d3.select(this).transition(500).attr({stroke:""}),v.transition().duration(500).style("opacity",0)}function r(){y.select(".x.axis").call(f),y.select(".y.axis").call(x),m.attr("transform","translate("+d3.event.translate[0]+",0)scale("+d3.event.scale+",1)"),m.attr("transform","translate("+d3.event.translate+")scale("+d3.event.scale+")")}var n,l,i,s;for(n=dset[0].x,l=dset[0].x,i=dset[0].y,s=dset[0].y,t=0;t<dset.length;t++)dset[t].x<n&&(n=dset[t].x),dset[t].y<i&&(i=dset[t].y),dset[t].x>l&&(l=dset[t].x),dset[t].y>s&&(s=dset[t].y);ranges[0].x_range=[n-1,l+1],ranges[0].y_range=[i-1,s+1];var o=d3.scale.linear().domain(ranges[0].x_range).range([0,width]),d=d3.scale.ordinal().domain(ranges[0].x_range).rangeRoundBands([0,width],.1),c=d3.scale.linear().domain(ranges[0].y_range).range([0,height]),g=d3.scale.category10(),p=d3.scale.linear().domain(ranges[0].y_range).range([height,0]),f=d3.svg.axis().scale(o).orient("bottom").innerTickSize(-height).outerTickSize(0).tickPadding(10),x=d3.svg.axis().scale(p).orient("left").innerTickSize(-width).outerTickSize(0).tickPadding(10),h=d3.behavior.zoom().x(o).y(p).scaleExtent([1,5]).on("zoom",r);d3.select("#"+grafik.div_id).select("svg").remove();var y=d3.select("#"+grafik.div_id).append("svg").attr("viewBox","0 0 "+(width+margin.right+margin.left)+" "+(height+margin.top+margin.bottom)).append("svg:g").attr("transform","translate("+margin.left+","+margin.top+")");y.append("g").attr("class","y axis").call(x).append("text").attr("class","label").attr("transform","rotate(-90)").attr("y",-80).attr("dy",".71em").attr("x",-height/3).style("text-anchor","end").text(grafik.ylab),y.append("g").attr("class","x axis").attr("transform","translate(0,"+height+")").call(f).append("text").attr("class","label").attr("x",width/2+10).attr("y",60).style("text-anchor","end").text(grafik.xlab);grafik.zoom===!0&&0===grafik.x_labels.length&&0===grafik.y_labels.length?y.call(h):(0!==grafik.x_labels.length&&(f.tickFormat(function(t,e){return grafik.x_labels[e]}),y.select(".x.axis").call(f)),0!==grafik.y_labels.length&&(x.tickFormat(function(t,e){return grafik.y_labels[e]}),y.select(".y.axis").call(x)));var u=y.append("svg").attr("height",height).attr("width",width),m=(y.append("g").attr("width",width).attr("height",height),u.selectAll("rect").data(dset).enter().append("rect").style("fill",function(t,e){return 0!==grafik.color.length?grafik.color.length<xdata.length?grafik.color[e%grafik.color.length]:grafik.color[e]:g(e)}).attr("id","bar").attr("opacity","0.7").attr("y",height).on("mousemove",e).on("mouseout",a));m.transition().duration(500).attr("width",d.rangeBand()/dset.length).attr("height",function(t,e){return c(t.y)}).attr("x",function(t,e){return o(t.x)-d.rangeBand()/dset.length/2}).attr("y",function(t,e){return height-c(t.y)}),d3.selectAll(".tick").attr("font","15px sans-serif").attr("fill","#333").attr("shape-rendering","crispEdges").attr("opacity",.1),d3.selectAll(".axis.text").attr("text-anchor","end").attr("font","12px Arial"),d3.selectAll("text").attr("fill","#777"),d3.selectAll(".tick line").attr("stroke","#333").attr("opacity","0.1"),d3.select(".x.axis path").attr("fill","none").attr("stroke","#6B6B6B").attr("shape-rendering","crispEdges"),d3.select(".y.axis path").attr("fill","none").attr("stroke","#6B6B6B").attr("shape-rendering","crispEdges");var v=d3.select("#"+grafik.div_id).append("div").attr("class","barv tooltip").style("opacity",0);v.append("div").attr("class","labell"),v.append("div").attr("class","count"),v.append("div").attr("class","percent")}function barhorizontal(){function e(t,e,a){d3.select(this).attr("stroke",p(e)),k.transition().duration(500).style("opacity",1),k.select(".labell").html(grafik.ylab+" :"+t.y),k.select(".percent").html(grafik.xlab+" :"+format(t.x));var r=d3.mouse(d3.select("div.barh.tooltip").node().parentElement);k.transition().duration(500).style("opacity",.9).style("display","block").style("left",r[0]-30+"px").style("top",r[1]-80+"px")}function a(t,e,a){d3.select(this).transition(500).attr({stroke:""}),k.transition().duration(500).style("opacity",0)}function r(){u.select(".x.axis").call(x),u.select(".y.axis").call(h),v.attr("transform","translate("+d3.event.translate[0]+",0)scale("+d3.event.scale+",1)"),v.attr("transform","translate("+d3.event.translate+")scale("+d3.event.scale+")")}var n,l,i,s;for(n=dset[0].x,l=dset[0].x,i=dset[0].y,s=dset[0].y,t=0;t<dset.length;t++)dset[t].x<n&&(n=dset[t].x),dset[t].y<i&&(i=dset[t].y),dset[t].x>l&&(l=dset[t].x),dset[t].y>s&&(s=dset[t].y);ranges[0].x_range=[n-1,l+1],ranges[0].y_range=[i-1,s+1];var o=d3.scale.linear().domain(ranges[0].x_range).range([0,width]),d=d3.scale.ordinal().domain(ranges[0].x_range).rangeRoundBands([0,width],.1),c=d3.scale.ordinal().domain(ranges[0].x_range).rangeRoundBands([0,width]),g=d3.scale.linear().domain(ranges[0].y_range).range([0,height]),p=d3.scale.category10(),f=d3.scale.linear().domain(ranges[0].y_range).range([height,0]),x=d3.svg.axis().scale(o).orient("bottom").innerTickSize(-height).outerTickSize(0).tickPadding(10),h=d3.svg.axis().scale(f).orient("left").innerTickSize(-width).outerTickSize(0).tickPadding(10),y=d3.behavior.zoom().x(o).y(f).scaleExtent([1,5]).on("zoom",r);d3.select("#"+grafik.div_id).select("svg").remove();var u=d3.select("#"+grafik.div_id).append("svg").attr("viewBox","0 0 "+(width+margin.right+margin.left)+" "+(height+margin.top+margin.bottom)).append("svg:g").attr("transform","translate("+margin.left+","+margin.top+")");u.append("g").attr("class","y axis").call(h).append("text").attr("class","label").attr("transform","rotate(-90)").attr("y",-80).attr("dy",".71em").attr("x",-height/3).style("text-anchor","end").text(grafik.ylab),u.append("g").attr("class","x axis").attr("transform","translate(0,"+height+")").call(x).append("text").attr("class","label").attr("x",width/2+10).attr("y",60).style("text-anchor","end").text(grafik.xlab),grafik.zoom===!0&&0===grafik.x_labels.length&&0===grafik.y_labels.length?u.call(y):(0!==grafik.x_labels.length&&(x.tickFormat(function(t,e){return grafik.x_labels[e]}),u.select(".x.axis").call(x)),0!==grafik.y_labels.length&&(h.tickFormat(function(t,e){return grafik.y_labels[e]}),u.select(".y.axis").call(h)));var m=u.append("svg").attr("height",height).attr("width",width),v=(u.append("g").attr("width",width).attr("height",height),m.selectAll("rect").data(dset).enter().append("rect").style("fill",function(t,e){return 0!==grafik.color.length?grafik.color.length<xdata.length?grafik.color[e%grafik.color.length]:grafik.color[e]:p(e)}).attr("id","bar").attr("opacity","0.7").attr("width",0).on("mousemove",e).on("mouseout",a));v.transition().duration(500).attr("height",d.rangeBand()/dset.length/2).attr("width",function(t,e){return o(t.x)}).attr("x",function(t,e){return c(t.x)}).attr("y",function(t,e){return height-g(t.y)-height/dset.length/4}),d3.selectAll(".tick").attr("font","15px sans-serif").attr("fill","#333").attr("shape-rendering","crispEdges").attr("opacity",.1),d3.selectAll(".axis.text").attr("text-anchor","end").attr("font","12px Arial"),d3.selectAll("text").attr("fill","#777"),d3.selectAll(".tick line").attr("stroke","#333").attr("opacity","0.1"),d3.select(".x.axis path").attr("fill","none").attr("stroke","#6B6B6B").attr("shape-rendering","crispEdges"),d3.select(".y.axis path").attr("fill","none").attr("stroke","#6B6B6B").attr("shape-rendering","crispEdges"),d3.selectAll(".domain").attr("fill","none").attr("stroke","#6B6B6B").attr("shape-rendering","crispEdges");var k=d3.select("#"+grafik.div_id).append("div").attr("class","barh tooltip").style("opacity",0);k.append("div").attr("class","labell"),k.append("div").attr("class","count"),k.append("div").attr("class","percent")}function boxchart(){function t(t,e,a){d3.select(this).attr("stroke",f(e)),w.transition().duration(500).style("opacity",1),w.select(".labell").html("Max :"+t.ymax),w.select(".labelll").html("Q3 :"+t.upper),w.select(".labellll").html("Median :"+t.middle),w.select(".count").html("Q1 :"+t.lower),w.select(".percent").html("Min :"+t.ymin);var r=d3.mouse(d3.select("div.box.tooltip2").node().parentElement);w.transition().duration(500).style("opacity",.9).style("display","block").style("left",r[0]-40+"px").style("top",r[1]-120+"px")}function e(t,e,a){d3.select(this).transition(500).attr({stroke:"none"}),w.transition().duration(500).style("opacity",0),v.selectAll(".test").attr("opacity",0).style("display","none"),v.selectAll(".circles").attr("opacity",0).style("display","none")}function a(){m.select(".x.axis").call(h),m.select(".y.axis").call(y),b.attr("transform","translate("+d3.event.translate[0]+",0)scale("+d3.event.scale+",1)"),b.attr("transform","translate("+d3.event.translate+")scale("+d3.event.scale+")"),d3.selectAll("#boxline").attr("transform","translate("+d3.event.translate[0]+",0)scale("+d3.event.scale+",1)"),d3.selectAll("#boxline").attr("transform","translate("+d3.event.translate+")scale("+d3.event.scale+")")}var r,n,l,i;for(r=dset[0].x,n=dset[0].x,l=dset[0].ymin,i=dset[0].ymax,k=0;k<dset.length;k++)dset[k].x<r&&(r=dset[k].x),dset[k].ymin<l&&(l=dset[k].ymin),dset[k].x>n&&(n=dset[k].x),dset[k].ymax>i&&(i=dset[k].ymax);ranges[0].x_range=[r-1,n+1],ranges[0].y_range=[l-1,i+1];var s={top:10,right:90,bottom:90,left:90},o=700.51+s.left+s.right,d=500.51-s.top-s.bottom,c=(d3.format(".2f"),d3.scale.ordinal().domain(ranges[0].x_range).rangeRoundBands([0,o],.1)),g=d3.scale.linear().domain(ranges[0].x_range).range([0,o]),p=d3.scale.linear().domain(ranges[0].y_range).range([0,d]),f=d3.scale.category20(),x=d3.scale.linear().domain(ranges[0].y_range).range([d,0]),h=d3.svg.axis().scale(g).orient("bottom").innerTickSize(-d).outerTickSize(0).tickPadding(10),y=d3.svg.axis().scale(x).orient("left").innerTickSize(-o).outerTickSize(0).tickPadding(10),u=d3.behavior.zoom().x(g).y(x).scaleExtent([1,5]).on("zoom",a);d3.select("#"+grafik.div_id).select("svg").remove();var m=d3.select("#"+grafik.div_id).append("svg").attr("viewBox","0 0 "+(o+s.right+s.left)+" "+(d+s.top+s.bottom)).append("svg:g").attr("transform","translate("+s.left+","+s.top+")");m.append("g").attr("class","y axis").call(y).append("text").attr("class","label").attr("transform","rotate(-90)").attr("y",-80).attr("dy",".71em").attr("x",-d/3).style("text-anchor","end").text(grafik.ylab),m.append("g").attr("class","x axis").attr("transform","translate(0,"+d+")").call(h).append("text").attr("class","label").attr("x",o/2+10).attr("y",60).style("text-anchor","end").text(grafik.xlab);d3.scale.linear().domain(ranges[0].y_range).range([d,0]);grafik.zoom===!0&&0===grafik.x_labels.length&&0===grafik.y_labels.length?m.call(u):(0!==grafik.x_labels.length&&(h.tickFormat(function(t,e){return grafik.x_labels[e]}),m.select(".x.axis").call(h)),0!==grafik.y_labels.length&&(y.tickFormat(function(t,e){return grafik.y_labels[e]}),m.select(".y.axis").call(y)));for(var v=m.append("svg").attr("height",d).attr("width",o),k=0;k<dset.length;k++){v.append("line").attr("stroke",function(t,e){return 0!==grafik.color.length?"#333":f(k)}).attr("id","boxline").attr("opacity",.5).attr("x1",g(dset[k].x)).attr("x2",g(dset[k].x)).attr("y1",d-p(dset[k].ymin)).attr("y2",d-p(dset[k].ymax))}for(var k=0;k<dset.length;k++){v.append("line").attr("stroke",function(t,e){return 0!==grafik.color.length?"#333":f(k)}).attr("id","boxline").attr("opacity",.5).attr("x1",g(dset[k].x)-c.rangeBand()/dset.length/2).attr("x2",g(dset[k].x)+c.rangeBand()/dset.length/2).attr("y1",d-p(dset[k].middle)).attr("y2",d-p(dset[k].middle))}var b=v.selectAll("rect").data(dset).enter().append("rect").style("fill",function(t,e){return 0!==grafik.color.length?grafik.color.length<xdata.length?grafik.color[e%grafik.color.length]:grafik.color[e]:f(e)}).attr("id","bar").attr("opacity","0.7").attr("width",c.rangeBand()/dset.length).attr("height",function(t,e){return p(t.upper)-p(t.lower)}).attr("x",function(t,e){return g(t.x)-c.rangeBand()/dset.length/2}).attr("y",function(t,e){return d-p(t.upper)}).on("mousemove",t).on("mouseout",e);d3.selectAll(".tick").attr("font","15px sans-serif").attr("fill","#333").attr("shape-rendering","crispEdges").attr("opacity",.1),d3.selectAll(".axis.text").attr("text-anchor","end").attr("font","12px Arial"),d3.selectAll("text").attr("fill","#777"),d3.selectAll(".tick line").attr("stroke","#333").attr("opacity","0.1"),d3.select(".x.axis path").attr("fill","none").attr("stroke","#6B6B6B").attr("shape-rendering","crispEdges"),d3.select(".y.axis path").attr("fill","none").attr("stroke","#6B6B6B").attr("shape-rendering","crispEdges"),d3.selectAll(".domain").attr("fill","none").attr("stroke","#6B6B6B").attr("shape-rendering","crispEdges");var w=d3.select("#"+grafik.div_id).append("div").attr("class","box tooltip2").style("opacity",0);w.append("div").attr("class","labell labell"),w.append("div").attr("class","labelll labell"),w.append("div").attr("class","labellll labell"),w.append("div").attr("class","count labell"),w.append("div").attr("class","percent labell")}function error(){function e(t,e,a){d3.select(this).transition(500).attr("r",7),A.transition().duration(500).style("opacity",1),A.select(".labell").html("Upper :"+g(t.ymax)),A.select(".count").html("Mean :"+g(t.y)),A.select(".percent").html("Lower :"+g(t.ymin));var r=d3.mouse(d3.select("div.error.tooltip").node().parentElement);A.transition().duration(500).style("opacity",.9).style("display","block").style("left",r[0]-40+"px").style("top",r[1]-80+"px")}function a(t,e,a){d3.select(this).transition(500).attr("r",5),A.transition().duration(500).style("opacity",0),k.selectAll(".test").attr("opacity",0).style("display","none"),k.selectAll(".circles").attr("opacity",0).style("display","none")}function r(){v.select(".x.axis").call(y),v.select(".y.axis").call(u),_.attr("transform","translate("+d3.event.translate[0]+",0)scale("+d3.event.scale+",1)"),_.attr("transform","translate("+d3.event.translate+")scale("+d3.event.scale+")"),d3.selectAll("#errorline").attr("transform","translate("+d3.event.translate[0]+",0)scale("+d3.event.scale+",1)"),d3.selectAll("#errorline").attr("transform","translate("+d3.event.translate+")scale("+d3.event.scale+")")}var n,l,i,s;for(n=dset[0].x,l=dset[0].x,i=dset[0].ymin,s=dset[0].ymax,t=0;t<dset.length;t++)dset[t].x<n&&(n=dset[t].x),dset[t].ymin<i&&(i=dset[t].ymin),dset[t].x>l&&(l=dset[t].x),dset[t].ymax>s&&(s=dset[t].ymax);ranges[0].x_range=[n-1,l+1],ranges[0].y_range=[i-1,s+1];var o={top:10,right:90,bottom:90,left:90},d=700.51+o.left+o.right,c=500.51-o.top-o.bottom,g=d3.format(".2f"),p=(d3.scale.ordinal().domain(ranges[0].x_range).rangeRoundBands([0,d],.1),d3.scale.linear().domain(ranges[0].x_range).range([0,d])),f=d3.scale.linear().domain(ranges[0].y_range).range([0,c]),x=d3.scale.category20(),h=d3.scale.linear().domain(ranges[0].y_range).range([c,0]),y=d3.svg.axis().scale(p).orient("bottom").innerTickSize(-c).outerTickSize(0).tickPadding(10),u=d3.svg.axis().scale(h).orient("left").innerTickSize(-d).outerTickSize(0).tickPadding(10),m=d3.behavior.zoom().x(p).y(h).scaleExtent([1,5]).on("zoom",r);d3.select("#"+grafik.div_id).select("svg").remove();var v=d3.select("#"+grafik.div_id).append("svg").attr("viewBox","0 0 "+(d+o.right+o.left)+" "+(c+o.top+o.bottom)).append("svg:g").attr("transform","translate("+o.left+","+o.top+")");v.append("g").attr("class","y axis").call(u).append("text").attr("class","label").attr("transform","rotate(-90)").attr("y",-80).attr("dy",".71em").attr("x",-c/3).style("text-anchor","end").text(grafik.ylab),v.append("g").attr("class","x axis").attr("transform","translate(0,"+c+")").call(y).append("text").attr("class","label").attr("x",d/2+10).attr("y",60).style("text-anchor","end").text(grafik.xlab);d3.scale.linear().domain(ranges[0].y_range).range([c,0]);grafik.zoom===!0&&0===grafik.x_labels.length&&0===grafik.y_labels.length?v.call(m):(0!==grafik.x_labels.length&&(y.tickFormat(function(t,e){return grafik.x_labels[e]}),v.select(".x.axis").call(y)),0!==grafik.y_labels.length&&(u.tickFormat(function(t,e){return grafik.y_labels[e]}),v.select(".y.axis").call(u)));for(var k=v.append("svg").attr("height",c).attr("width",d),k=v.append("svg").attr("height",c).attr("width",d),b=0;b<dset.length;b++)k.append("line").attr("id","errorline").attr("x1",function(t){return p(dset[b].x)}).attr("x2",function(t){return p(dset[b].x)}).attr("y1",c-f(dset[b].ymin)).attr("y2",c-f(dset[b].ymax)).attr("stroke",x(0)),k.append("line").attr("id","errorline").attr("x1",function(t){return p(dset[b].x)-10}).attr("x2",function(t){return p(dset[b].x)+10}).attr("y1",c-f(dset[b].ymin)).attr("y2",c-f(dset[b].ymin)).attr("stroke",x(0)),k.append("line").attr("id","errorline").attr("x1",function(t){return p(dset[b].x)-10}).attr("x2",function(t){return p(dset[b].x)+10}).attr("y1",c-f(dset[b].ymax)).attr("y2",c-f(dset[b].ymax)).attr("stroke",x(0));for(var w=0;w<dset.length-1;w++)k.append("line").attr("id","errorline").attr("x1",function(t){return p(dset[w].x)}).attr("x2",function(t){return p(dset[w+1].x)}).attr("y1",c-f(dset[w].y)).attr("y2",c-f(dset[w+1].y)).style("stroke-dasharray","3, 3").attr("stroke",x(0));var _=k.selectAll("circle").data(dset).enter().append("circle").attr("cx",function(t){return p(t.x)}).attr("cy",function(t){return c-f(t.y)}).attr("r",5).attr("fill",function(t,e){return 0!==grafik.color.length?grafik.color.length<xdata.length?grafik.color[e%grafik.color.length]:grafik.color[e]:"tomato"}).on("mouseover",e).on("mouseout",a);d3.selectAll(".tick").attr("font","15px sans-serif").attr("fill","#333").attr("shape-rendering","crispEdges").attr("opacity",.1),d3.selectAll(".axis.text").attr("text-anchor","end").attr("font","12px Arial"),d3.selectAll("text").attr("fill","#777"),d3.selectAll(".tick line").attr("stroke","#333").attr("opacity","0.1"),d3.select(".x.axis path").attr("fill","none").attr("stroke","#6B6B6B").attr("shape-rendering","crispEdges"),d3.select(".y.axis path").attr("fill","none").attr("stroke","#6B6B6B").attr("shape-rendering","crispEdges"),d3.selectAll(".domain").attr("fill","none").attr("stroke","#6B6B6B").attr("shape-rendering","crispEdges");var A=d3.select("#"+grafik.div_id).append("div").attr("class","error tooltip").style("opacity",0);A.append("div").attr("class","labell"),A.append("div").attr("class","count"),A.append("div").attr("class","percent")}function line(){function e(t,e,a){d3.select(this).transition(500).attr("r",7),S.transition().duration(500).style("opacity",1),S.select(".labell").html(grafik.ylab+" :"+g(t.y)),S.select(".count").html(grafik.xlab+" :"+g(t.x));var r=d3.mouse(d3.select("div.line.tooltip").node().parentElement);S.transition().duration(500).style("opacity",.9).style("display","block").style("left",r[0]-30+"px").style("top",r[1]-80+"px")}function a(t,e,a){d3.select(this).transition(500).attr("r",5),S.transition().duration(500).style("opacity",0),b.selectAll(".test").attr("opacity",0).style("display","none"),b.selectAll(".circles").attr("opacity",0).style("display","none")}function r(){k.select(".x.axis").call(u),k.select(".y.axis").call(m),B.attr("transform","translate("+d3.event.translate[0]+",0)scale("+d3.event.scale+",1)"),B.attr("transform","translate("+d3.event.translate+")scale("+d3.event.scale+")"),d3.selectAll("#lline").attr("transform","translate("+d3.event.translate[0]+",0)scale("+d3.event.scale+",1)"),d3.selectAll("#lline").attr("transform","translate("+d3.event.translate+")scale("+d3.event.scale+")")}var n,l,i,s;for(n=dset[0].x,l=dset[0].x,i=dset[0].y,s=dset[0].y,t=0;t<dset.length;t++)dset[t].x<n&&(n=dset[t].x),dset[t].y<i&&(i=dset[t].y),dset[t].x>l&&(l=dset[t].x),dset[t].y>s&&(s=dset[t].y);ranges[0].x_range=[n-1,l+1],ranges[0].y_range=[i-1,s+1];var o={top:10,right:90,bottom:90,left:90},d=700.51+o.left+o.right,c=500.51-o.top-o.bottom,g=d3.format(".2f"),p=d3.scale.ordinal().domain(ranges[0].x_range).rangeRoundBands([0,d],.1),f=d3.scale.linear().domain(ranges[0].x_range).range([0,d]),x=d3.scale.linear().domain(ranges[0].y_range).range([0,c]),h=d3.scale.category20(),y=d3.scale.linear().domain(ranges[0].y_range).range([c,0]),u=d3.svg.axis().scale(f).orient("bottom").innerTickSize(-c).outerTickSize(0).tickPadding(10),m=d3.svg.axis().scale(y).orient("left").innerTickSize(-d).outerTickSize(0).tickPadding(10),v=d3.behavior.zoom().x(f).y(y).scaleExtent([1,5]).on("zoom",r);d3.select("#"+grafik.div_id).select("svg").remove();var k=d3.select("#"+grafik.div_id).append("svg").attr("viewBox","0 0 "+(d+o.right+o.left)+" "+(c+o.top+o.bottom)).append("svg:g").attr("transform","translate("+o.left+","+o.top+")");k.append("g").attr("class","y axis").call(m).append("text").attr("class","label").attr("transform","rotate(-90)").attr("y",-80).attr("dy",".71em").attr("x",-c/3).style("text-anchor","end").text(grafik.ylab),k.append("g").attr("class","x axis").attr("transform","translate(0,"+c+")").call(u).append("text").attr("class","label").attr("x",d/2+10).attr("y",60).style("text-anchor","end").text(grafik.xlab);d3.scale.linear().domain(ranges[0].y_range).range([c,0]);grafik.zoom===!0&&0===grafik.x_labels.length&&0===grafik.y_labels.length?k.call(v):(0!==grafik.x_labels.length&&(u.tickFormat(function(t,e){return grafik.x_labels[e]}),k.select(".x.axis").call(u)),0!==grafik.y_labels.length&&(m.tickFormat(function(t,e){return grafik.y_labels[e]}),k.select(".y.axis").call(m)));for(var b=k.append("svg").attr("height",c).attr("width",d),w=0;w<dset.length-1;w++)b.append("line").attr("id","lline").attr("x1",function(t){return f(dset[w].x)}).attr("x2",function(t){return f(dset[w+1].x)}).attr("y1",c-x(dset[w].y)).attr("y2",c-x(dset[w+1].y)).attr("stroke",function(t){return"tomato"}).attr("opacity",.7);b.append("line").attr("class","xlines").attr("x1",0).attr("x2",0).attr("y1",0).attr("y2",c).attr("opacity",.3).attr("stroke","red");for(var _=new Array,A=(new Array,b.append("text"),b.append("text"),b.append("rect"),0);A<dset.length;A++)_.push(p(dset[A].x));var B=b.selectAll("circle").data(dset).enter().append("circle").attr("id",function(t,e){return"c"+e}).attr("cx",function(t){return f(t.x)}).attr("cy",function(t){return c-x(t.y)}).attr("opacity",1).attr("r",5).attr("fill",function(t,e){return 0!==grafik.color.length?grafik.color.length<xdata.length?grafik.color[e%grafik.color.length]:grafik.color[e]:h(0)}).on("mouseover",e).on("mouseout",a);d3.selectAll(".tick").attr("font","15px sans-serif").attr("fill","#333").attr("shape-rendering","crispEdges").attr("opacity",.1),d3.selectAll(".axis.text").attr("text-anchor","end").attr("font","12px Arial"),d3.selectAll("text").attr("fill","#777"),d3.selectAll(".tick line").attr("stroke","#333").attr("opacity","0.1"),d3.select(".x.axis path").attr("fill","none").attr("stroke","#6B6B6B").attr("shape-rendering","crispEdges"),d3.select(".y.axis path").attr("fill","none").attr("stroke","#6B6B6B").attr("shape-rendering","crispEdges"),d3.selectAll(".domain").attr("fill","none").attr("stroke","#6B6B6B").attr("shape-rendering","crispEdges");var S=d3.select("#"+grafik.div_id).append("div").attr("class","line tooltip").style("opacity",0);S.append("div").attr("class","labell"),S.append("div").attr("class","count"),S.append("div").attr("class","percent")}function convert(t,e){if(dset=[],t.length===e.length)for(i in t)dset.push({x:t[i],y:e[i]})}var mihenk={},dset=[],xdata,ydata,ranges=[{x_labels:["1","2","3","4","6","8"],y_labels:[]}],grafik,margin={top:10,right:90,bottom:90,left:90},width=700.51+margin.left+margin.right,height=500.51-margin.top-margin.bottom,format=d3.format(".2f");mihenk.barchart=function(t){xdata=t.xdata,ydata=t.ydata,convert(xdata,ydata),grafik=t.opt,void 0!==dset&&barchart()},mihenk.barhorizontal=function(t){xdata=t.xdata,ydata=t.ydata,convert(xdata,ydata),grafik=t.opt,void 0!==dset&&barhorizontal()},mihenk.box=function(t){dset=t.data,grafik=t.opt,void 0!==dset&&boxchart()},mihenk.error=function(t){dset=t.data,grafik=t.opt,void 0!==dset&&error()},mihenk.line=function(t){xdata=t.xdata,ydata=t.ydata,convert(xdata,ydata),grafik=t.opt,void 0!==dset&&line()},function(){function t(t){return t instanceof HTMLElement||t instanceof SVGElement}function e(e){if(!t(e))throw new Error("an HTMLElement or SVGElement is required; got "+e)}function a(t){return t&&0==t.lastIndexOf("http",0)&&-1==t.lastIndexOf(window.location.host)}function r(t,r){e(t);var n=t.querySelectorAll("image"),l=n.length,i=function(){0===l&&r()};i();for(var s=0;s<n.length;s++)!function(t){var e=t.getAttributeNS("http://www.w3.org/1999/xlink","href");if(e&&a(e.value))return void console.warn("Cannot render embedded images linking to external hosts: "+e.value);var r=document.createElement("canvas"),n=r.getContext("2d"),s=new Image;e=e||t.getAttribute("href"),e?(s.src=e,s.onload=function(){r.width=s.width,r.height=s.height,n.drawImage(s,0,0),t.setAttributeNS("http://www.w3.org/1999/xlink","href",r.toDataURL("image/png")),l--,i()},s.onerror=function(){console.log("Could not load "+e),l--,i()}):(l--,i())}(n[s])}function n(t,e){for(var a="",r=document.styleSheets,n=0;n<r.length;n++){try{var l=r[n].cssRules}catch(i){console.warn("Stylesheet could not be loaded: "+r[n].href);continue}if(null!=l)for(var s=0;s<l.length;s++){var o=l[s];if("undefined"!=typeof o.style){var d,c;try{c=o.selectorText}catch(g){console.warn('The following CSS rule has an invalid selector: "'+o+'"',g)}try{c&&(d=t.querySelector(c))}catch(g){console.warn('Invalid CSS selector "'+c+'"',g)}if(d){var p=e?e(o.selectorText):o.selectorText;a+=p+" { "+o.style.cssText+" }\n"}else o.cssText.match(/^@font-face/)&&(a+=o.cssText+"\n")}}}return a}function l(t,e,a){var r=t.viewBox&&t.viewBox.baseVal&&t.viewBox.baseVal[a]||null!==e.getAttribute(a)&&!e.getAttribute(a).match(/%$/)&&parseInt(e.getAttribute(a))||t.getBoundingClientRect()[a]||parseInt(e.style[a])||parseInt(window.getComputedStyle(t).getPropertyValue(a));return"undefined"==typeof r||null===r||isNaN(parseFloat(r))?0:r}function i(t){return t=encodeURIComponent(t),t=t.replace(/%([0-9A-F]{2})/g,function(t,e){var a=String.fromCharCode("0x"+e);return"%"===a?"%25":a}),decodeURIComponent(t)}function s(t,e){var a=document.createElement("a");a.download=t,a.href=e,document.body.appendChild(a),a.addEventListener("click",function(t){a.parentNode.removeChild(a)}),a.click()}var o="undefined"!=typeof exports&&exports||"undefined"!=typeof define&&{}||this,d='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">';o.svgAsDataUri=function(t,a,s){e(t),a=a||{},a.scale=a.scale||1;var o="http://www.w3.org/2000/xmlns/";r(t,function(){var e,r,c=document.createElement("div"),g=t.cloneNode(!0);if("svg"==t.tagName)e=a.width||l(t,g,"width"),r=a.height||l(t,g,"height");else{if(!t.getBBox)return void console.error("Attempted to render non-SVG element",t);var p=t.getBBox();e=p.x+p.width,r=p.y+p.height,g.setAttribute("transform",g.getAttribute("transform").replace(/translate\(.*?\)/,""));var f=document.createElementNS("http://www.w3.org/2000/svg","svg");f.appendChild(g),g=f}g.setAttribute("version","1.1"),g.getAttribute("xmlns")||g.setAttributeNS(o,"xmlns","http://www.w3.org/2000/svg"),g.getAttribute("xmlns:xlink")||g.setAttributeNS(o,"xmlns:xlink","http://www.w3.org/1999/xlink"),g.setAttribute("width",e*a.scale),g.setAttribute("height",r*a.scale),g.setAttribute("viewBox",[a.left||0,a.top||0,e,r].join(" "));for(var x=g.querySelectorAll("foreignObject > *"),h=0;h<x.length;h++)x[h].setAttributeNS(o,"xmlns","http://www.w3.org/1999/xhtml");c.appendChild(g);var y=n(t,a.selectorRemap),u=document.createElement("style");u.setAttribute("type","text/css"),u.innerHTML="<![CDATA[\n"+y+"\n]]>";var m=document.createElement("defs");m.appendChild(u),g.insertBefore(m,g.firstChild);var f=d+c.innerHTML,v="data:image/svg+xml;base64,"+window.btoa(i(f));s&&s(v)})},o.svgAsPngUri=function(t,a,r){e(t),o.svgAsDataUri(t,a,function(t){var e=new Image;e.onload=function(){var t=document.createElement("canvas");t.width=e.width,t.height=e.height;var n=t.getContext("2d");a&&a.backgroundColor&&(n.fillStyle=a.backgroundColor,n.fillRect(0,0,t.width,t.height)),n.drawImage(e,0,0);var l;document.createElement("a");try{l=t.toDataURL("image/png")}catch(i){if("undefined"!=typeof SecurityError&&i instanceof SecurityError||"SecurityError"==i.name)return void console.error("Rendered SVG images cannot be downloaded in this browser.");throw i}r(l)},e.onerror=function(t){console.error("There was an error loading the data URI as an image",t)},e.src=t})},o.saveSvg=function(t,a,r){e(t),r=r||{},o.svgAsDataUri(t,r,function(t){s(a,t)})},o.saveSvgAsPng=function(t,a,r){e(t),r=r||{},o.svgAsPngUri(t,r,function(t){s(a,t)})},"undefined"!=typeof define&&define(function(){return o})}();